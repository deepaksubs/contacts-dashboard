<div class="container-fluid">
    <div class="row-wrap">
        <div class="col-1">
        </div>
        <div class="col">
            <h2>Contacts</h2>
        </div>
        <div class="col">
          <button class="btn btn-custom" data-toggle="modal" data-target="#exampleModal">+ Add Contact</button>
        </div>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-body">
                <form (submit)="saveContact(contact)" #addForm=ngForm>
                  <div class="form-group" [class.hasError]="nameControl.invalid && nameControl.touched">
                    <label class="control-label">Full Name</label>
                    <input type="text" name="name" class="form-control" placeholder="Name" [(ngModel)]="contact.name" #nameControl="ngModel" required>
                    <span class="help-block" *ngIf="nameControl.invalid && nameControl.touched">Full Name is required</span>
                  </div>
                  <div class="form-group" [class.hasError]="nameControl.invalid && nameControl.touched">
                    <label class="control-label">Age</label>
                    <input type="number" id="age" name="age" class="form-control" [(ngModel)]="contact.age" #ageControl="ngModel" placeholder="Age" required min="1" max="110">
                    <span class="help-block" *ngIf="ageControl.invalid && ageControl.touched">Age is required</span>
                  </div>
                  <div class="form-group" [class.hasError]="nameControl.invalid && nameControl.touched">
                    <label class="control-label">Email address</label>
                    <input type="email" name="email" class="form-control" [(ngModel)]="contact.email" #emailControl="ngModel" placeholder="Email" required email>
                    <span class="help-block" *ngIf="emailControl.errors?.required && emailControl.touched">Email is required</span>
                    <span class="help-block" *ngIf="emailControl.errors?.email && emailControl.touched">Email is invalid</span>
                  </div>
                  <div class="form-group">
                    <label>Gender</label>
                    <select class="form-control" [(ngModel)]="contact.gender" required>
                      <option>Male</option>
                      <option>Female</option>
                      <option>Other</option>
                    </select>
                  </div>
                  <div class="form-group" [class.hasError]="nameControl.invalid && nameControl.touched">
                    <label class="control-label">Phone</label>
                    <input type="text" name="phone" class="form-control" [(ngModel)]="contact.phone" #phoneControl="ngModel" placeholder="Phone" required>
                    <span class="help-block" *ngIf="phoneControl.invalid && phoneControl.touched">Phone is required</span>
                  </div>
                  <div class="form-group">
                    <label>Company</label>
                    <input type="text" name="company" class="form-control" [(ngModel)]="contact.company" #companyControl="ngModel" placeholder="Company" required>
                  </div>
                  <div class="form-group">
                    <label>Role</label>
                    <input type="text" name="role" class="form-control" [(ngModel)]="contact.role" #roleControl="ngModel" placeholder="Role" required>
                  </div>
                  <div class="form-group">
                    <label>Address</label>
                    <input type="text" name="address" class="form-control" [(ngModel)]="contact.address" #addressControl="ngModel" placeholder="Address" required>
                  </div>
                  <div>
                    <button type="submit" class="btn btn-custom">Save changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div class="row-wrap">
        <div class="col-12 col-sm-12 col-md-12 col-lg-5">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col" style="width: 5%;">+</th>
                        <th scope="col" style="width: 65%;">Basic Info</th>
                        <th scope="col" style="width: 30%;">Company</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let contact of userDetail?.contacts; index as i">
                        <td>
                            <input type="checkbox" (change)="checkBoxChange(contact, $event)">
                        </td>
                        <td>
                            <h4>{{ contact.name }}</h4>
                            <h5>{{ contact.email }}</h5>
                        </td>
                        <td>{{ contact.company }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-1">
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-4">
            <app-contact-detail [contactDetail]="contact" *ngIf="contact"></app-contact-detail>
        </div>
    </div>
</div>
